<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Découvrez « le bon HTML » et économisez du JS et du CSS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Découvrez « le bon HTML » et économisez du JS et du CSS — conférence donnée à Paris Web 2022, par Gaël Poupard">
  <meta name="author" content="Gaël Poupard">
  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
  <link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="../fonts/bello-pro.woff2"/>
  <link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="../fonts/museo-slab-300.woff2"/>
  <link rel="stylesheet" href="css/ddeecckk.css" type="text/css" media="screen"/>
  <link rel="stylesheet" href="css/prism.min.css" type="text/css" media="screen"/>
</head>
<body>
    <header role="banner">
      <a href="https://www.ffoodd.fr">ffoodd</a>
      <h1>Découvrez «&nbsp;le bon <abbr lang="en" title="HyperText Markup Language">HTML</abbr>&nbsp;» et économisez du <abbr lang="en" title="JavaScript">JS</abbr> et du <abbr lang="en" title="Cascading StyleSheet">CSS</abbr></h1>
    </header>

    <!-- @todo CIU / a11y support / etc. -->
    <main role="main">
      <!-- @todo Utiliser utopia.fyi pour cibler une font-size dynamique ? -->
      <section class="first">
        <span class="h2">Découvrez «&nbsp;le bon <abbr lang="en" title="HyperText Markup Language">HTML</abbr>&nbsp;» et économisez du <abbr lang="en" title="JavaScript">JS</abbr> et du <abbr lang="en" title="Cascading StyleSheet">CSS</abbr></span>
        <p>
          Retrouvez les slides en ligne sur
          <span aria-hidden="true">→&nbsp;</span><a href="https://www.ffoodd.fr/paris-web.2022/">ffoodd.fr/paris-web.2022/</a>.
         </p>
        <footer>
          <p >Raconté par <a href="ttps://www.ffoodd.fr">Gaël Poupard</a></p>
          <p>
            <a href="https://www.groupeonepoint.com">
              <img src="../accesslide/img/onepoint.svg" width="166" height="80" alt="onepoint"/>
            </a>
          </p>
        </footer>
      </section>

      <!-- @todo Un sommaire ? -->

      <section>
        <h2>Le principe de moindre pouvoir<span aria-hidden="true">&nbsp;&#129412;</span></h2>
        <p>
          C’est <a hreflang="en" href="https://www.w3.org/DesignIssues/Principles.html">un des axiomes du web</a>,
          proposés par <cite>Tim Berners-Lee</cite> en 1998
          —&nbsp;à côté de <abbr lang="en" title="Keep It Simple, Stupid!">kiss</abbr>, du <i lang="en">design</i>
          modulaire, de la <strong>tolérance</strong> ou de la <strong>décentralisation</strong>.
        </p>
        <p>
          Le mantra de l’<strong>amélioration progressive</strong>, en somme…
        </p>
      </section>

      <!-- @todo Citer quelque part l’article d’Anthony Ricaud : https://calendar.perfplanet.com/2020/html-and-css-techniques-to-reduce-your-javascript/ -->
      <section>
        <h2>L’arbre de décision</h2>
        <ol>
          <li><abbr lang="en" title="HyperText Markup Language">HTML</abbr></li>
          <li><abbr lang="en" title="Cascading StyleSheet">CSS</abbr></li>
          <li>JavaScript</li>
          <li><abbr lang="en" title="Accessible Rich Internet Applications">ARIA</abbr></li>
          <li><i lang="en">Polyfill</i></li>
          <li><i lang="en">Framework</i></li>
        </ol>
        <div>
          <h3>En deuxième lame&nbsp;: le support</h3>
          <p>
            Suivez les spécifications, les ajouts ou retraits de fonctionnalités&nbsp;—
            mais aussi les implémentations dans les navigateurs&nbsp;:
            <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/hgroup#notes_dutilisation"><code>hgroup</code>
              n’a jamais eu d’implémentation sémantique</a>, par exemple&nbsp— et <code>:is()</code> et <code>:where()</code>
            vous font gagner quelques octets, au détriment du support de (très) nombreux navigateurs…
          </p>
          <p><small>Validez votre HTML, aussi.</small></p>
        </div>
      </section>

      <section>
        <h2>JavaScript est notre ami</h2>
        <p class="lead">JavaScript est indispensable, tant pour l’accessibilité que pour une expérience utilisateur optimale.</p>
        <p>
          Mais il ne faut l’utiliser qu’en cas de nécessité, <a hreflang="en" href="https://www.w3.org/TR/using-aria/#rule1">à l’instar d’ARIA</a>.
          L’objectif est seulement de vous faire découvrir du HTML que vous ne connaissez peut-être pas.
        </p>
        <p><strong>Opinion</strong>&nbsp;: l’écosystème <code>no-js</code> est peuplé de démonstration <i lang="en">CSS only</i>, ce qui est littéralement impossible.</p>
      </section>

      <!-- @todo Vérifier l’état de l’accessibilité de ces solutions : Adrian Roselli, Scott O'Harra, bookmarks compat… -->
      <!-- @todo Pour chaque démo : un slide d’accroche, la démo, un slide warning / ressources -->
      <!-- @todo Des emojis partout !! -->

      <!-- @todo Exemple avec audio / video -->

      <section>
        <h2>Autocomplétion</h2>
        <p class="lead">Compléter automatiquement le nom de commune d’après un code postal ou un début de saisie&nbsp&nbsp;?</p>
        <p>Pas besoin d’Angular Material ou d’un composant riche&nbsp&nbsp;!</p>
        <!-- @todo Mauvais exemple je pense, ou alors faut prévoir une démo complète et s’assurer que mon Firefox a mon adresse :/ -->
        <p class="small">
          En réalité, vous n’avez pas besoin de gérer la liste des communes de France et de Navarre,
          l’utilisateur (et son navigateur) ont déjà l’information.
        </p>
      </section>
      <section class="demo">
        <h2 aria-hidden="true">Autocomplétion</h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;input type="password" autocomplete="new-password"/>
&lt;input type="email" autocomplete="email"/>
            </code>
          </pre>
        </div>
        <form class="demo d-flex">
          <div class="m-auto">
            <p>
              <label for="password">Mot de passe</label>
              <input id="password" type="password" autocomplete="new-password"/>
            </p>
            <p>
              <label for="email">Email</label>
              <input id="email" type="email" autocomplete="email"/>
            </p>
          </div>
        </form>
      </section>
      <!-- @todo Mentionner le critère RGAA → https://www.numerique.gouv.fr/publications/rgaa-accessibilite/methode-rgaa/glossaire/#liste-des-valeurs-possibles-pour-l-attribut-autocomplete -->

      <section>
        <h2>Liste de suggestions</h2>
        <p>Vous voulez proposer une liste de valeurs à l’utilisateur, en permettant aussi la saisie libre&nbsp;?</p>
        <p>Toujours pas besoin d’une bibliothèque, ni même d’un composant riche&nbsp;! </p>
      </section>
      <section class="demo">
        <h2 aria-hidden="true">De la suggestion</h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;label for="language">D’après vous, quel est le meilleur langage de programmation&nbsp;?&lt;/label>
&lt;input id="language" type="text" list="languages"/>
&lt;datalist id="languages">
  &lt;option>HTML&lt;/option>
  &lt;option>CSS&lt;/option>
  &lt;option>SVG&lt;/option>
&lt;/datalist>
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
          <form class="m-auto">
            <p>
              <label for="language">D’après vous, quel est le meilleur langage de programmation</label>
              <input id="language" type="text" list="languages"/>
              <datalist id="languages">
                <option>HTML</option>
                <option>CSS</option>
                <option>SVG</option>
              </datalist>
            </p>
          </form>
        </div>
      </section>
      <section class="demo">
        <h2 aria-hidden="true">De la suggestion</h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;label for="colors">Vous mettrez bien un peu de couleur&nbsp;?&lt;/label>
&lt;input id="colors" type="color" list="colors"/>
&lt;datalist id="colors">
  &lt;option>#ff00dd&lt;/option>
  &lt;option>#911&lt;/option>
  &lt;option>#bada55&lt;/option>
&lt;/datalist>
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
          <form class="m-auto">
            <p>
              <label for="color">Vous mettrez bien un peu de couleur&nbsp;?</label>
              <input id="color" type="color" list="colors"/>
              <datalist id="colors">
                <option>#ff00dd</option>
                <option>#911</option>
                <option>#bada55</option>
              </datalist>
            </p>
          </form>
        </div>
      </section>

      <section>
        <h2>Formater la saisie</h2>
        <p>Vous n’autorisez que certains caractères, ou avez besoin de normaliser les valeurs&nbsp;?</p>
        <p>Pas de traitements sur la valeur ou d’écouteurs d’événement crados&nbsp;: HTML à la rescousse&nbsp;!</p>
      </section>
      <section class="demo">
        <h2 aria-hidden="true">Formater la saisie</h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;label for="pattern">
  Mot de passe
  &lt;small>(obligatoire)&lt;/small>
&lt;/label>
&lt;input id="pattern" type="password"
  required
  pattern="[a-z]{4,8}"
  spellcheck="false"
  autocorrect="off"
  autocapitalize="none"/>
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
          <form class="m-auto" target="_self">
            <p>
              <label for="pattern">Mot de passe <small>(obligatoire)</small></label>
              <input id="pattern" type="password" required
                     pattern="[a-z]{4,8}"
                     spellcheck="false" autocorrect="off" autocapitalize="none"
                     aria-describedby="aide"/>
              <small id="aide" class="d-block mt-1">
                Votre mot de passe doit contenir quatre à huit minuscules uniquement.
              </small>
            </p>
            <button type="submit">Valider</button>
          </form>
        </div>
      </section>

      <section>
        <h2>D’autres bonus pour formulaires</h2>
        <p>De nombreux autres attributs sont drôlement pratiques — certains récents, et d’autres… non&nbsp;:</p>
        <ul>
          <li><code>inputmode</code> pour déterminer le clavier à utiliser, sur <i lang="en">smartphone</i>,</li>
          <li><code>enterkeyhint</code> pour indiquer la fonction de la touche entrée, sur <i lang="en">smartphone</i> également,</li>
          <li><code>for</code> et <code>id</code> pour associer un <code>label</code> à un champ,</li>
          <li><code>name</code> pour les boutons radios et cases à cocher,</li>
          <li><code>type</code> pour les boutons et éviter de soumettre les formulaires n’importe quand&nbsp;!</li>
          <li><code>action</code>, <code>method</code> mais aussi <code>formaction</code> et <code>formmethod</code> (entre autres).</li>
        </ul>
        <p>
          <a href="https:www.//smashingmagazine.com/2018/08/ux-html5-mobile-form-part-2/" hreflang="en">
            Stéphanie Walter a publié un guide extrêmement complet pour aider vos utilisateurs à remplir vos formulaires,
            sur <cite>Smashing Magazine</cite> (en anglais).
          </a>
          </p>
      </section>

      <!-- @todo <progress> et <meter> -->

      <section >
        <h2>Un bloc dépliant</h2>
        <p>Un contenu supplémentaire à afficher après une interaction&nbsp;?</p>
        <p>
          Vous pouvez implémenter le motif de conception
          <abbr lang="en" title="Accessible Rich Internet Applications" aria-label="Accessible Rich Internet Applications">ARIA</abbr>
          <i lang="en">disclosure</i>, évidemment&nbsp;— mais pas que&nbsp;!
        </p>
      </section>
      <section class="demo">
        <h2 aria-hidden="true">Un bloc dépliant</h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;details>
  &lt;summary>Découvrez mes secrets…&lt;/summary>
  Hé, à quoi vous vous attendiez&nbsp;!
&lt;/details>
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
          <details class="m-auto">
            <summary>Découvrez mes secrets…</summary>
            Hé, à quoi vous vous attendiez&nbsp;!
          </details>
        </div>
      </section>
      <!-- @todo Warning a11y : https://adrianroselli.com/2019/04/details-summary-are-not-insert-control-here.html -->

      <!-- @todo Réf Adam Argyle + Adrian Roselli -->
      <!-- https://www.scottohara.me/blog/2019/03/05/open-dialog.html -->
      <!-- https://web.dev/building-a-dialog-component/ -->
      <!-- https://github.com/KittyGiraudel/a11y-dialog ++ https://a11y-dialog.netlify.app/advanced/dialog-element -->
      <section>
        <h2>Une fenêtre modale</h2>
        <!-- @todo À quoi sert une modale, en vrai ? -->
        <p>Vous devez exiger une interaction de l’utilisateur, pour confirmer une action&nbsp;?</p>
        <p>Pourquoi utiliser du JavaScript&nbsp;?</p>
      </section>
      <section class="demo">
        <h2>Une fenêtre modale</h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;dialog id="dialog">
  &lt;form method="dialog">
    &lt;p>Bonjour, fenêtre&nbsp;!&lt;/p>
    &lt;button>OK&lt;/button>
  &lt;/form>
&lt;/dialog>
&lt;button onclick="dialog.showModal()">Aérer&lt;/button>
&lt;!-- → Ouvrir la fenêtre -->
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
          <dialog id="dialog">
            <form method="dialog">
              <p>Bonjour, fenêtre&nbsp;!</p>
              <button>OK</button>
            </form>
          </dialog>
          <button onclick="dialog.showModal()" class="m-auto">Aérer</button>
          <!-- → Ouvrir la fenêtre -->
        </div>
        <script>
          // Close dialog on backdrop click
          // @author Adam Argyle
          // @see https://twitter.com/argyleink/status/1511761383024521218
          document.addEventListener('DOMContentLoaded', () => {
            dialog.addEventListener('click', ({target:dialog}) => {
              if (dialog.nodeName === 'DIALOG')
                dialog.close()
            });
          });
        </script>
      </section>

      <section class="demo">
        <h2><code>output</code></h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;fieldset>
  &lt;legend>Addition&lt;/legend>
  &lt;p>
    &lt;label for="un">Chiffre&lt;/label>
    &lt;input id="un" type="number" value="0"/>
  &lt;/p>
  &lt;p>
    &lt;label for="deux">Autre chiffre&lt;/label>
    &lt;input id="deux" type="number" value="0"/>
&lt;/fieldset>
&lt;output id="resultat" for="un deux">&lt;/output>
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
         <form class="d-flex m-auto" id="addition">
           <fieldset>
             <legend>Addition</legend>
             <p>
               <label for="un">Chiffre</label>
               <input id="un" type="number" value="0"/>
             </p>
             <p>
               <label for="deux">Autre chiffre</label>
               <input id="deux" type="number" value="0"/>
             </p>
           </fieldset>
           <output id="resultat" for="un deux"></output>
         </form>
        </div>
        <!-- @todo Warning a11y : un slide après, avec formatage dédié ? -->
        <p>
          <a href="https://www.scottohara.me/blog/2019/07/10/the-output-element.html" hreflang="en">
            Scott O’Hara a rédigé un article détaillé sur l’accessibilité de l’élément <code>output</code> (en anglais).
          </a>
        </p>
        <script>
          const updateValue = () => {
            document.getElementById('resultat').value = parseInt(document.getElementById('un').value) + parseInt(document.getElementById('deux').value);
          }
          document.addEventListener('DOMContentLoaded', () => {
            updateValue();
            document.getElementById('addition').addEventListener('input', () => {
              updateValue();
            });
          });
        </script>
      </section>

      <section class="demo">
        <h2>Mettre une colonne en avant</h2>
        <div class="markup">
          <pre class="language-markup">
            <code class="language-markup">
&lt;table>
  &lt;caption>Tableau bidon&lt;/caption>
  &lt;colgroup>
    &lt;col id="col-un">
  &lt;/colgroup>
  &lt;thead>
    &lt;tr>
      &lt;th>&lt;a href="#col-un">Un&lt;/a>&lt;/th>
    &lt;/tr>
  &lt;/thead>
&lt;/table>
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
          <table class="w-100 m-auto">
            <caption>Tableau bidon</caption>
            <colgroup>
              <col id="col-un">
              <col id="col-deux">
              <col id="col-trois">
            </colgroup>
            <thead>
              <tr>
                <th><a href="#col-un">Un</a></th>
                <th><a href="#col-deux">Deux</a></th>
                <th><a href="#col-trois">Trois</a></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Un truc</td>
                <td>Deux trucs</td>
                <td>Et non !</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>
          <a href="https://www.matuzo.at/blog/highlighting-columns/" hreflang="en">
            Manuel Matuzovic a partagé cette technique sur son blog (en anglais).
          </a>
        </p>
      </section>

      <!-- @todo Réf Stephanie Eckles -->
      <section class="demo">
        <h2>Du <i lang="en">live coding</i> grâce à <code>contenteditable</code></h2>
        <div class="style">
<style contenteditable class="highlight--none">.modern-container {
  display: grid;
  height: 100%;
  place-content: center;
}

.box {
  aspect-ratio: 1;
  background-color: rebeccapurple;
  color: white;
  padding: 1rem;
}</style>
        </div>
        <div class="demo d-flex">
          <div class="modern-container m-auto">
            <div class="box">container</div>
          </div>
        </div>
      </section>

      <section class="demo">
        <h2>Avec un peu de <i lang="en">code highlighting</i></h2>
        <div class="style">
<style contenteditable style="--num-lines: 1;--highlight-start: calc(8 * var(--line-height));">.modern-container {
  display: grid;
  height: 100%;
  place-content: center;
}

.box-2 {
  aspect-ratio: 1;
  background-color: rebeccapurple;
  color: white;
  padding: 1rem;
}</style>
        </div>
        <div class="demo d-flex">
          <div class="modern-container m-auto">
            <div class="box-2">container</div>
          </div>
        </div>
      </section>

      <!-- @todo Reformuler : « de combien de JS avez-vous besoin pour gérer un import / export de JSON ? -->
      <section class="demo">
        <h2>Exporter et importer du <abbr lang="en" title="JavaScript Object Notation">JSON</abbr></h2>
        <div class="markup">
        <pre class="language-markup">
            <code class="language-markup">
&lt;a href="data:text/json,…" download="export.json">Exporter&lt;/a>
&lt;form>
  &lt;p>
    &lt;label for="import">Importer&lt;/label>
    &lt;input id="import" type="file" accept="json"/>
  &lt;/p>
&lt;/form>
            </code>
          </pre>
        </div>
        <div class="demo d-flex">
          <div class="m-auto">
            <a download="export.json">Exporter</a>
            <form>
              <p>
                <label for="import">Importer</label>
                <input id="import" type="file" accept="json"/>
              </p>
            </form>
          </div>
        </div>
        <script>
          document.addEventListener('DOMContentLoaded', () => {
            localStorage.setItem('Démo', 'Tada !');

            document.querySelector('[download]').href = 'data:text/json,' + JSON.stringify(localStorage);

            document.querySelector('[type="file"]').addEventListener('change', event => {
              const upload = event.target.files[0];
              const reader = new FileReader();

              reader.onload = (event => {
                JSON.parse(event.target.result, (label, value) => {
                  localStorage.removeItem(label);
                  localStorage.setItem(label, value);
                });
              });

              reader.readAsText(upload);
            });
          });

          document.addEventListener('beforeunload', () => {
            localStorage.removeItem('Démo');
          });
        </script>
      </section>

      <section>
        <h2>D’autres nouveautés</h2>
        <p>J’ai pas eu le temps de faire les démos&nbsp;!</p>
        <ul>
          <li>
            <code>template</code>, <code>slot</code>, <code>is</code>, <code>part</code> et <code>exportparts</code>, et le
            <i lang="en">Shadow <abbr title="Document Object Model">DOM</abbr></i>, aussi connu sous le sobriquet
            de <i lang="en">Web Components</i>,
          </li>
          <li>
            les attributs <code>data-*</code> et l’<abbr lang="en" title="Application Programming Interface">API</abbr>
            <i lang="en">Dataset</i> pour faire porter des données au <i lang="en">markup</i>
            tout en restant valide <abbr lang="en" title="World Wide Web Consortium">W3C</abbr>,
          </li>
          <li><code>progress</code> et <code>meter</code> pour représenter des mesures,</li>
          <li><code>kbd</code>, <code>var</code> et <code>samp</code> pour la doc technique — vous écrivez de la doc, pas vrai&nbsp;?</li>
        </ul>
      </section>

      <section>
        <h2>Et pour les perfs, alors&nbsp;?</h2>
        <ul>
          <li>
            <code>preload</code>, <code>prefetch</code>, <code>preconnect</code> pour
            l’attribut <code>rel</code> sur l’élément <code>link</code>,
          </li>
          <li>
            l’attribut <code>loading</code> pour gérer la stratégie de chargement des <i lang="en">assets</i>,
            avec les valeurs <code>lazy</code> et <code>eager</code>,
          </li>
          <li><code>defer</code> et <code>async</code> pour les scripts,</li>
          <li><code>fetchpriority</code>&nbsp;: pas encore sec,</li>
        </ul>
      </section>

      <section>
        <h2>Merci</h2>
        <h3>Et à bientôt<span aria-hidden="true">&nbsp;&#9786;</span></h3>
        <h4>Crédits</h4>
        <ul>
          <li>Pictogrammes&nbsp;: <a href="https://thenounproject.com/marekpolakovic/collection/rounded-ui" hreflang="en">Rounded UI</a> —&nbsp;par <a href="https://www.marekpolakovic.sk/">Marek Polakovic</a>&nbsp;;</li>
          <li>Typographie de titraille&nbsp;: <a hreflang="en" href="https://typekit.com/fonts/bello-pro">Bello Pro</a> —&nbsp;créée par <a hreflang="en" href="https://www.underware.nl/">Underware</a>&nbsp;;</li>
          <li>Typographie de labeur&nbsp;: <a hreflang="en" href="https://typekit.com/fonts/museo-slab">Museo Slab</a> —&nbsp;créée par <a hreflang="en" href="https://www.exljbris.com/">Exljbris</a>.</li>
        </ul>
      </section>
    </main>

    <footer role="contentinfo">
      <ul role="list">
        <li><a href="https://www.ffoodd.fr">
            <img src="../accesslide/img/ffoodd.svg?2" alt="Blog de Gaël Poupard" height="32" width="32" />
        </a></li>
        <li><a href="https://twitter.com/ffoodd_fr">
            <img src="../accesslide/img/twitter.svg?2" alt="@ffoodd_fr sur Twitter" height="32" width="32" />
        </a></li>
        <li><a href="https://github.com/ffoodd/" hreflang="en">
            <img src="../accesslide/img/github.svg?2" alt="@ffoodd sur Github" height="32" width="32" />
        </a></li>
      </ul>
    </footer>

    <script src="../accesslide/js/prism.min.js"></script>
  </body>
</html>
